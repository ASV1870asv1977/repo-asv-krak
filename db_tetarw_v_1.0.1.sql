-- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: TETARW
-- Tracking Employee Time At Remote Work (–æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Ä–∞–±–æ—á–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –Ω–∞ —É–¥–∞–ª–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç)
-- version 1.0.0
-- date of creation 02.02.2021 –≥.
-- 
/* ====================================================================================================
 * 1. –û–ø–∏—Å–∞–Ω–∏–µ.
 * ====================================================================================================
 * –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö `tetarw` –≤ —Å–æ–≤–æ–∫—É–ø–Ω–æ—Å—Ç–∏ —Å–æ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –ø—Ä–æ–≥—Ä–∞–º–Ω—ã–º –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ–º –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞
 * –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏, –ø—Ä–æ–≤–µ–¥–µ–Ω–Ω–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–º –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏, –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–Ω–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–µ–π
 * –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å —Ç—Ä—É–¥–æ–≤—ã–º –¥–æ–≥–æ–≤–æ—Ä–æ–º –∏ —É–∫–∞–∑–∞–Ω–∏—è–º–∏ —Ä—É–∫–æ–≤–æ–¥—è—â–µ–≥–æ —Å–æ—Å—Ç–∞–≤–∞.
 * 
 * ==================================================================================================== 
 * 2. –ó–∞–¥–∞—á–∏.
 * ====================================================================================================
 * 
 * –û—Å—É—â–µ—Å—Ç–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö:
 * - –æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–µ;
 * - –æ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∏ –ø–µ—Ä–µ—á–Ω—è –¥–æ–ª–Ω–æ—Å—Ç–µ–π;
 * - —Ä–µ–≥–ª–∞–º–µ–Ω—Ç–∞ —Ä–∞–±–æ—á–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –≤ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏;
 * - –æ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞—á–∞–ª–∞ –∏ –æ–∫–æ–Ω—á–∞–Ω–∏—è —Ä–∞–±–æ—á–µ–≥–æ –¥–Ω—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞;
 * - o –Ω–∞–ª–∏—á–∏–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –Ω–∞ —É–¥–∞–ª–µ–Ω–Ω–æ–º —Ä–∞–±–æ—á–µ–º –º–µ—Å—Ç–µ;
 * - –æ –ø–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á–∞—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫—É –∏ —Å—Ä–æ–∫–∞—Ö –∏—Ö –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è;
 * - –æ –ø—Ä–æ–≥—Ä–∞–º–Ω–æ–º –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–∏, –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–º —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–º –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–π –∑–∞–¥–∞—á–∏ –∏ –≤—Ä–µ–º–µ–Ω–∏ 
 *   –µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è;
 * - —Å–ª—É–∂–µ–±–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π, –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã—Ö (–ø—Ä–∏–Ω—è—Ç—ã—Ö) –≤ —Å–ª—É–∂–µ–±–Ω–æ–º –º–µ—Å—Å–µ–Ω–∂–µ—Ä–µ;
 * - –æ–± –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –ø—Ä–æ–≥—Ä–∞–º–Ω–æ–≥–æ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –∏ –¥–µ–π—Å—Ç–≤–∏—è—Ö, –∑–∞–ø—Ä–µ—â–µ–Ω–Ω—ã—Ö –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–µ–π, 
 *   –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –¥–æ–≥–æ–≤–æ—Ä–æ–º –∏ —É–∫–∞–∑–∞–Ω–∏—è–º–∏ —Ä—É–∫–æ–≤–æ–¥—è—â–µ–≥–æ —Å–æ—Å—Ç–∞–≤–∞;
 * - –æ –ø—Ä–∏—á–∏–Ω–∞—Ö –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –Ω–∞ —É–¥–∞–ª–µ–Ω–Ω–æ–º —Ä–∞–±–æ—á–µ–º –º–µ—Å—Ç–µ.
 */
-- 
-- ===================================================================================================
-- 3. –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
-- ===================================================================================================
DROP DATABASE IF EXISTS tetarw;
CREATE DATABASE tetarw;
USE tetarw;

-- ---------------------------------------------------------------------------------------------------
-- –¢–∞–±–ª–∏—Ü–∞ `employees` - —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏
-- ---------------------------------------------------------------------------------------------------

DROP TABLE IF EXISTS employees;
CREATE TABLE employees (
	id SERIAL PRIMARY KEY,
	lastname VARCHAR(100) NOT NULL COMMENT '–§–∞–º–∏–ª–∏—è',
    firstname VARCHAR(100) DEFAULT NULL COMMENT '–ò–º—è',
    middlename VARCHAR(100) DEFAULT NULL COMMENT '–û—Ç—á–µ—Å—Ç–≤–æ', 
    staff_id BIGINT UNSIGNED NOT NULL COMMENT 'id –∑–∞–Ω–∏–º–∞–µ–º–æ–π –¥–æ–ª–∂–Ω–æ—Å—Ç–∏',
    email VARCHAR(100) UNIQUE,
    password_hash VARCHAR(100),
    phone BIGINT DEFAULT NULL,
    created_at DATETIME DEFAULT NOW(),    
    is_deleted BIT DEFAULT 0
);


-- ---------------------------------------------------------------------------------------------------
-- –¢–∞–±–ª–∏—Ü–∞ `working_ststus` - c—Ç–∞—Ç—É—Å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
-- ---------------------------------------------------------------------------------------------------
DROP TABLE IF EXISTS working_ststus;
CREATE TABLE working_ststus (
	employees_id BIGINT UNSIGNED NOT NULL,
	created_at DATETIME DEFAULT NOW(),
	working_ststus ENUM('–ü—Ä–æ–≥—É–ª', '–†–∞–±–æ—Ç–∞–µ—Ç', '–í—ã—Ö–æ–¥–Ω–æ–π', '–û—Ç–ø—É—Å–∫', '–ë–æ–ª–µ–Ω', '–ö–æ–º–∞–Ω–¥–∏—Ä–æ–≤–∫–∞') NOT NULL,	
	PRIMARY KEY (employees_id, created_at) 
);

-- ---------------------------------------------------------------------------------------------------
-- –¢–∞–±–ª–∏—Ü–∞ `profiles` - –ø—Ä–æ—Ñ–∏–ª–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
-- ---------------------------------------------------------------------------------------------------

DROP TABLE IF EXISTS `profiles`;
CREATE TABLE `profiles` (
	employees_id SERIAL PRIMARY KEY,
    gender CHAR(1),
    birthday DATE,
    hometown VARCHAR(100),
    marital_status ENUM('unmarried', 'married') NOT NULL COMMENT '–°–µ–º–µ–π–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ',
    number_of_children TINYINT UNSIGNED COMMENT '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–µ—Ç–µ–π',    
	photo_id BIGINT UNSIGNED NULL,
    created_at DATETIME DEFAULT NOW()        
);

-- ---------------------------------------------------------------------------------------------------
-- –¢–∞–±–ª–∏—Ü–∞ `staff_list` - —à—Ç–∞—Ç–Ω–æ-–¥–æ–ª–∂–Ω–æ—Å—Ç–Ω–æ–π —Å–ø–∏—Å–æ–∫ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
-- ---------------------------------------------------------------------------------------------------
DROP TABLE IF EXISTS `staff_list`;
CREATE TABLE `staff_list` (
	id SERIAL PRIMARY KEY,
	departament_id BIGINT UNSIGNED NOT NULL,	
    job_title VARCHAR(100) NOT NULL COMMENT '–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –¥–æ–ª–∂–Ω–æ—Å—Ç–∏'
);

-- ---------------------------------------------------------------------------------------------------
-- –¢–∞–±–ª–∏—Ü–∞ `department` - –æ—Ç–¥–µ–ª—ã –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
-- ---------------------------------------------------------------------------------------------------
DROP TABLE IF EXISTS `departament`;
CREATE TABLE `departament` (
	id SERIAL PRIMARY KEY,
    departament_name VARCHAR(100) NOT NULL COMMENT '–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –æ—Ç–¥–µ–ª–∞',
    email VARCHAR(100) UNIQUE,
    office_hours JSON NOT NULL COMMENT '–†–µ–≥–ª–∞–º–µ–Ω—Ç —Å–ª—É–∂–µ–±–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏'
);

-- ---------------------------------------------------------------------------------------------------
-- –¢–∞–±–ª–∏—Ü–∞ `employees_admin` - –¥–æ–ø—É—Å–∫ –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—é
-- ---------------------------------------------------------------------------------------------------
DROP TABLE IF EXISTS employees_admin;
CREATE TABLE employees_admin(
	staff_list_id BIGINT UNSIGNED NOT NULL,
	departament_id BIGINT UNSIGNED NOT NULL,
	access_level ENUM('1', '2', '3') NOT NULL COMMENT '–î–æ–ø—É—Å–∫ –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—é',
	created_at DATETIME DEFAULT NOW(),
	PRIMARY KEY (staff_list_id, departament_id) 
);

-- ---------------------------------------------------------------------------------------------------
-- –¢–∞–±–ª–∏—Ü–∞ `messages` - —Å–æ–æ–±—â–µ–Ω–∏—è
-- ---------------------------------------------------------------------------------------------------
DROP TABLE IF EXISTS messages;
CREATE TABLE messages (
	id SERIAL PRIMARY KEY,
	from_employees_id BIGINT UNSIGNED NOT NULL,
    to_employees_id BIGINT UNSIGNED NOT NULL,
    body TEXT,
    created_at DATETIME DEFAULT NOW()
);

-- ---------------------------------------------------------------------------------------------------
-- –¢–∞–±–ª–∏—Ü–∞ `rest_break` - –ø–µ—Ä–µ—Ä—ã–≤ –Ω–∞ –æ—Ç–¥—ã—Ö
-- ---------------------------------------------------------------------------------------------------
DROP TABLE IF EXISTS rest_break;
CREATE TABLE rest_break(
	tasks_id BIGINT UNSIGNED NOT NULL,
	break_on DATETIME DEFAULT NOW(),
	break_of DATETIME ON UPDATE NOW(),	  
	PRIMARY KEY (tasks_id, break_on)    
);

-- ---------------------------------------------------------------------------------------------------
-- –¢–∞–±–ª–∏—Ü–∞ `tasks` - –∑–∞–¥–∞—á–∏
-- ---------------------------------------------------------------------------------------------------
DROP TABLE IF EXISTS tasks;
CREATE TABLE tasks (
	id SERIAL PRIMARY KEY,
	from_employees_id BIGINT UNSIGNED NOT NULL,
    to_employees_id BIGINT UNSIGNED NOT NULL,    
    task_body TEXT,    
    created_at DATETIME DEFAULT NOW(), 
    data_completion DATETIME,
	completion_at DATETIME ON UPDATE NOW()   
);

-- ---------------------------------------------------------------------------------------------------
-- –¢–∞–±–ª–∏—Ü–∞ `software_block_list` - –∑–∞–ø—Ä–µ—â–µ–Ω–Ω–æ–µ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –ü–û
-- ---------------------------------------------------------------------------------------------------
DROP TABLE IF EXISTS `sw_block_list`;
CREATE TABLE `sw_block_list`(
	id SERIAL PRIMARY KEY,
    software_name VARCHAR(255) NOT NULL,
    browser_url VARCHAR(255) DEFAULT NULL
);

-- ---------------------------------------------------------------------------------------------------
-- –¢–∞–±–ª–∏—Ü–∞ `software_work` - –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–µ –ü–û
-- ---------------------------------------------------------------------------------------------------
DROP TABLE IF EXISTS `software_work`;
CREATE TABLE `software_work`(	
	tasks_id BIGINT UNSIGNED NOT NULL,	
    software_name VARCHAR(255),
    browser_url VARCHAR(255) DEFAULT NULL,    
    created_at DATETIME DEFAULT NOW(),    
	completion_at DATETIME ON UPDATE NOW(),
	PRIMARY KEY (tasks_id, created_at)
);

-- ---------------------------------------------------------------------------------------------------
-- –¢–∞–±–ª–∏—Ü–∞ media_types - –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–∏–ø—ã –º–µ–¥–∏–∞—Ñ–∞–π–ª–æ–≤
-- ---------------------------------------------------------------------------------------------------
DROP TABLE IF EXISTS media_types;
CREATE TABLE media_types(
	id SERIAL PRIMARY KEY,
    name VARCHAR(255)    
);

-- ---------------------------------------------------------------------------------------------------
-- –¢–∞–±–ª–∏—Ü–∞ media - —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –º–µ–¥–∏–∞—Ñ–∞–π–ª–∞—Ö
-- ---------------------------------------------------------------------------------------------------
DROP TABLE IF EXISTS media;
CREATE TABLE media(
	id SERIAL PRIMARY KEY,
    media_type_id BIGINT UNSIGNED,
    tasks_id BIGINT UNSIGNED,
    filename VARCHAR(255),
    url_add VARCHAR(255),
	metadata JSON,
    created_at DATETIME DEFAULT NOW()    
);


-- ==================================================================================================
-- 4. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–Ω–µ—à–Ω–∏—Ö –∫–ª—é—á–µ–π
-- ==================================================================================================

-- –í–Ω–µ—à–Ω–∏–π –∫–ª—é—á —Å –ø—Ä–æ—Ñ–∏–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ profiles
ALTER TABLE profiles 
-- (employees_id) –Ω–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ employees(id)
ADD FOREIGN KEY (employees_id) REFERENCES employees(id) ON UPDATE CASCADE ON DELETE CASCADE,
-- (photo_id) –Ω–∞ —Ç–∞–±–ª–∏—Ü—É —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –º–µ–¥–∏–∞—Ñ–∞–π–ª–∞—Ö media(id)
ADD FOREIGN KEY (photo_id) REFERENCES media(id) ON UPDATE CASCADE ON DELETE CASCADE;

-- –í–Ω–µ—à–Ω–∏–π –∫–ª—é—á —Å–æ —Å—Ç–∞—Ç—É—Å–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ working_ststus –Ω–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ employees(id)
ALTER TABLE working_ststus 
ADD FOREIGN KEY (employees_id) REFERENCES employees(id) ON UPDATE CASCADE ON DELETE CASCADE;

-- –í–Ω–µ—à–Ω–∏–π –∫–ª—é—á —Å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ employees(staff_id) –Ω–∞ –∑–∞–Ω–∏–º–∞–µ–º—É—é –¥–æ–ª–∂–Ω–æ—Å—Ç—å staff_list(id)
ALTER TABLE employees 
ADD FOREIGN KEY employees(staff_id) REFERENCES staff_list(id);

-- –í–Ω–µ—à–Ω–∏–π –∫–ª—é—á —Å –ø–µ—Ä–µ—á–Ω—è –¥–æ–ª–∂–Ω–æ—Å—Ç–µ–π staff_list(departament_id) –Ω–∞ –æ—Ç–¥–µ–ª –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ departament(id)
ALTER TABLE staff_list 
ADD FOREIGN KEY staff_list(departament_id) REFERENCES departament(id) ON UPDATE CASCADE ON DELETE CASCADE;

-- –í–Ω–µ—à–Ω–∏–π –∫–ª—é—á —Å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ —Å –¥–æ–ø—É—Å–∫–æ–º –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—é employees_admin
ALTER TABLE employees_admin
-- –Ω–∞ –∑–∞–Ω–∏–º–∞–µ–º—É—é –¥–æ–ª–∂–Ω–æ—Å—Ç—å staff_list(id) 
ADD FOREIGN KEY (staff_list_id) REFERENCES staff_list(id) ON UPDATE CASCADE ON DELETE CASCADE,
-- –Ω–∞ –æ—Ç–¥–µ–ª –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ departament(id)
ADD FOREIGN KEY (departament_id) REFERENCES departament(id) ON UPDATE CASCADE ON DELETE CASCADE;

-- –í–Ω–µ—à–Ω–∏–π –∫–ª—é—á —Å –º–µ—Å–µ–Ω–∂–µ—Ä–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ messages 
ALTER TABLE messages 
-- –Ω–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ employees(id), –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è —Å–æ–æ–±—â–µ–Ω–∏—è 
ADD FOREIGN KEY (from_employees_id) REFERENCES employees(id) ON UPDATE CASCADE ON DELETE CASCADE,
-- –Ω–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ employees(id), –ø–æ–ª—É—á–∞—Ç–µ–ª—è —Å–æ–æ–±—â–µ–Ω–∏—è 
ADD FOREIGN KEY (to_employees_id) REFERENCES employees(id) ON UPDATE CASCADE ON DELETE CASCADE;

-- –í–Ω–µ—à–Ω–∏–π –∫–ª—é—á —Å —Ç–∞–±–ª–∏—Ü—ã —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –º–µ–¥–∏–∞—Ñ–∞–π–ª–∞—Ö media(media_type_id) 
ALTER TABLE media 
-- –Ω–∞ —Ç–∏–ø –º–µ–¥–∏–∞—Ñ–∞–π–ª–∞ media_type(id)
ADD FOREIGN KEY (media_type_id) REFERENCES media_types(id) ON UPDATE CASCADE ON DELETE CASCADE,
-- –Ω–∞ –≤—ã–ø–æ–ª–Ω—è–µ–º—É—é –∑–∞–¥–∞—á—É
ADD FOREIGN KEY (tasks_id) REFERENCES tasks(id) ON UPDATE CASCADE ON DELETE CASCADE;

-- –í–Ω–µ—à–Ω–∏–π –∫–ª—é—á —Å –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á tasks 
ALTER TABLE tasks 
-- –Ω–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ employees(id), –ø–æ—Å—Ç–∞–≤–∏–≤—à–µ–≥–æ –∑–∞–¥–∞—á—É
ADD FOREIGN KEY (from_employees_id) REFERENCES employees(id) ON UPDATE CASCADE ON DELETE CASCADE,
-- –Ω–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ employees(id), –ø–æ–ª—É—á–∏–≤—à–µ–≥–æ –∑–∞–¥–∞—á—É 
ADD FOREIGN KEY (to_employees_id) REFERENCES employees(id) ON UPDATE CASCADE ON DELETE CASCADE;

-- –í–Ω–µ—à–Ω–∏–π –¥–≤–æ–π–Ω–æ–π –∫–ª—é—á —Å –ø–µ—Ä–µ—Ä—ã–≤–æ–≤ rest_break –Ω–∞ id –∑–∞–¥–∞—á–∏
ALTER TABLE rest_break 
ADD FOREIGN KEY (tasks_id) REFERENCES tasks(id) ON UPDATE CASCADE ON DELETE CASCADE;

-- –í–Ω–µ—à–Ω–∏–π –∫–ª—é—á —Å –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ –ü–û software_work –Ω–∞ –≤—ã–ø–æ–ª–Ω—è–µ–º—É—é –∑–∞–¥–∞—á—É tasks(id)
ALTER TABLE software_work 
ADD FOREIGN KEY (tasks_id) REFERENCES tasks(id);



-- ==================================================================================================
-- 5. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤
-- ==================================================================================================

CREATE INDEX lastname_index
ON employees(lastname);


-- ==================================================================================================
--
-- ==================================================================================================


SELECT * FROM departament;
INSERT departament(id, departament_name, email, office_hours) 
VALUES
	(1, '–°ompany management', 'managers@gmail.com', '{"a": "123"}'),
	(2, 'Development department', 'developer@gmail.com', '{"a": "234"}'),
	(3, 'Testing department', 'test@gmail.com', '{"a": "345"}');

SELECT * FROM staff_list;
INSERT staff_list(id, departament_id, job_title) 
VALUES
	(1, 1, 'Chef Executive Officer'),
	(2, 1, 'Chef Technology Officer'),
	(3, 1, 'Project Manager'),
	(4, 1, 'Software Architect'),
	(5, 2, 'Team Lead'),
	(6, 2, 'Developer Senior'),
	(7, 2, 'Developer Middle'),
	(8, 2, 'Developer Junior'),
	(9, 3, 'Tech Lead'),
	(10, 3, 'QA Automation Engineer'),
	(11, 3, 'QA Engineer'),
	(12, 3, 'Technical Writers');

SELECT * FROM employees;
INSERT employees(lastname, firstname, middlename, staff_id, email, password_hash, phone) 
VALUES
	('–ê–Ω–æ—Ö–∏–Ω', '–°–µ—Ä–≥–µ–π', '–ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–∏—á', 1, 'anohin@mail.ru', 'AogfP4cmSJI1vc8lpXRW9', 9208764532),
	('–ë–µ–ª—è–µ–≤–∞', '–°–æ—Ñ—å—è', '–î–º–∏—Ç—Ä–∏–µ–≤–Ω–∞', 2, 'belyaev@mail.ru', 'xB6GaHi4O0cEPtGYk4jD', 9168776542),
	('–ê–ª–∏–∫–æ–≤', '–Ø—Ä–æ—Å–ª–∞–≤', '–ê–Ω—Ç–æ–Ω–æ–≤–∏—á', 3, 'alikov@mail.ru', 'SuQ1L3nV8YVpO3D5cagg', 9258743565),
	('–î–æ–º–±—Ä–æ–≤—Å–∫–∏–π', '–ê—Ä—Å–µ–Ω–∏–π', '–ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–∏—á', 4, 'dombr@mail.ru', 'cTk4K48a0N7nxx6rf2x3', 9267658790),
	('–ì–æ—Ü–∫–æ', '–ò–ª—å—è', '–í—è—á–µ—Å–ª–∞–≤–æ–≤–∏—á', 5, 'gotcko@mail.ru', '05k8Do3I7Aq7jf7m3135', 9251234512),
	('–†–æ–¥—å–∫–∏–Ω–∞', '–ú–∞—Ä–∏–Ω–∞', '–ò–≤–∞–Ω–æ–≤–Ω–∞', 7, 'rodkina@mail.ru', 'V85Vjx5AhpTRT0OD61Ua', 9251234513),
	('–°–∞—Ñ–æ–Ω–æ–≤–∞', '–ê–ª–µ–∫—Å–∞–Ω–¥—Ä–∞', '–ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–Ω–∞', 8, 'safonova@mail.ru', 'L8Oe02gyoe0132vt1d75', 9251234514),
	('–ù–∏–∫–∏—Ñ–æ—Ä–æ–≤', '–≠–¥—É–∞—Ä–¥', '–ê–Ω–¥—Ä–µ–µ–≤–∏—á', 6, 'nikiforovn@mail.ru', '73UX875MqjE866ylXU4W', 9251234515),
	('–ü–æ–ª–æ–Ω—Å–∫–∞—è', '–ï–ª–µ–Ω–∞', '–°–µ—Ä–≥–µ–µ–≤–Ω–∞', 8, 'polonskaya@mail.ru', 'h5Dow021htOT1XH4WGWa', 9251234516),
	('–ë–æ—Ä–∏—Å–æ–≤', '–ú–∞–∫–∞—Ä', '–ê–Ω–¥—Ä–µ–µ–≤–∏—á', 7, 'borisov@mail.ru', '3e7Au4khCvaS462mxQiq', 9251234517),
	('–°–∫—Ä—ã–ø–Ω–∏–∫–æ–≤', '–ê—Ä—Ç–µ–º', '–°–µ—Ä–≥–µ–µ–≤–∏—á', 7, 'skripnikov@mail.ru', '7I0kd3JF8V701peL8PIL', 9251234518),
	('–ü–µ—Ä—à–∏–Ω', '–ö–∏—Ä–∏–ª–ª', '–ü–∞–≤–ª–æ–≤–∏—á', 9, 'pershin@mail.ru', '75HUR7CJOt1Tv6FAOv0U', 9251234519),
	('–°—É—Ä–∫–æ–≤', '–ê–Ω–¥—Ä–µ–π', '–ê–ª–µ–∫—Å–µ–µ–≤–∏—á', 10, 'surkov@mail.ru', 'HRXwkvDGSQo38SdAI6a5', 9251234520),
	('–ü–æ–Ω–∫—Ä–∞—Ç–æ–≤', '–î–µ–Ω–∏—Å', '–ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–∏—á', 11, 'ponkrat@mail.ru', '3561p58OG6sGQuGfi6VU', 9251234521),
	('–•–ª—ã—Å—Ç–æ–≤', '–ï–≤–≥–µ–Ω–∏–π', '–ê–Ω–¥—Ä–µ–µ–≤–∏—á', 12, 'hlistov@mail.ru', '70BVDh334L2s6e11osSY', 9251234522);

SELECT * FROM employees_admin;
INSERT employees_admin(staff_list_id, departament_id, access_level) 
VALUES
	(1, 1, 3),
	(2, 1, 3),
	(3, 1, 2),
	(4, 1, 2),
	(5, 2, 1),
	(9, 3, 1);

SELECT * FROM media_types;
INSERT media_types(name) 
VALUES
	('Photo'),
	('Screenshot'),
	('Webcam_photo');	

SELECT * FROM media;
INSERT media(media_type_id, filename, url_add) 
VALUES
	(1, '–ê–Ω–æ—Ö–∏–Ω', 'https://skr.sh/s6raGQ62D1s?a'),       -- 1
	(1, '–ë–µ–ª—è–µ–≤–∞', 'https://skr.sh/s6riXlxfbtf?a'),		 -- 2
	(1, '–ê–ª–∏–∫–æ–≤', 'https://skr.sh/s6r5F6SgI0u?a'),       -- 3
	(1, '–î–æ–º–±—Ä–æ–≤—Å–∫–∏–π', 'https://skr.sh/s6rp6203yvz?a'),  -- 4
	(1, '–ì–æ—Ü–∫–æ', 'https://skr.sh/s6rbpFZy1yV?a'),        -- 5
	(1, '–†–æ–¥—å–∫–∏–Ω–∞', 'https://skr.sh/s6rXffX9Dne?a'),     -- 6
	(1, '–°–∞—Ñ–æ–Ω–æ–≤–∞', 'https://skr.sh/s6rH8m7CiK5?a'),     -- 7
	(1, '–ù–∏–∫–∏—Ñ–æ—Ä–æ–≤', 'https://skr.sh/s6rmFK53vU8?a'),    -- 8
	(1, '–ü–æ–ª–æ–Ω—Å–∫–∞—è', 'https://skr.sh/s6rsEv90Toq?a'),    -- 9
	(1, '–ë–æ—Ä–∏—Å–æ–≤', 'https://skr.sh/s6r5bddpuWC?a'),      -- 10
	(1, '–°–∫—Ä—ã–ø–Ω–∏–∫–æ–≤', 'https://skr.sh/s6rLdkaInLO?a'),   -- 11
	(1, '–ü–µ—Ä—à–∏–Ω', 'https://skr.sh/s6rqb9Bmg7T?a'),       -- 12
	(1, '–°—É—Ä–∫–æ–≤', 'https://skr.sh/s6rdYISGlne?a'),       -- 13
	(1, '–ü–æ–Ω–∫—Ä–∞—Ç–æ–≤', 'https://skr.sh/s6rhLnLWuxN?a'),    -- 14
	(1, '–•–ª—ã—Å—Ç–æ–≤', 'https://skr.sh/s6rmWxPio3K?a');      -- 15
	
SELECT * FROM profiles;	
INSERT profiles(employees_id, gender, birthday, hometown, marital_status, number_of_children, photo_id) 
VALUES
	(1, '–ú', '1976-06-25', '–ú–æ—Å–∫–≤–∞', 'married', 2, 1),
	(2, '–ñ', '1981-11-12', '–ú–æ—Å–∫–≤–∞', 'married', 2, 2),		
	(3, '–ú', '1986-08-18', '–ú–æ—Å–∫–≤–∞', 'married', 1, 3),
	(4, '–ú', '1979-01-28', '–ú–æ—Å–∫–≤–∞', 'married', 3, 4),
	(5, '–ú', '1988-04-03', '–ú–æ—Å–∫–≤–∞', 'married', 1, 5),
	(6, '–ñ', '1986-01-15', '–ú–æ—Å–∫–≤–∞', 'married', 1, 6),
	(7, '–ñ', '1996-07-07', '–ú–æ—Å–∫–≤–∞', 'unmarried', 0, 7),
	(8, '–ú', '1991-05-22', '–õ—é–±–µ—Ä—Ü—ã', 'unmarried', 0, 8),
	(9, '–ñ', '1994-07-13', '–ö–æ–ª–æ–º–Ω–∞', 'unmarried', 0, 9),
	(10, 'M', '1996-10-26', '–ú–æ—Å–∫–≤–∞', 'unmarried', 0, 10),
	(11, 'M', '1988-04-21', '–û–¥–∏–Ω—Ü–æ–≤–æ', 'married', 2, 11),
	(12, 'M', '1987-09-15', '–ú–æ—Å–∫–≤–∞', 'married', 1, 12),
	(13, 'M', '1988-08-02', '–ú–æ—Å–∫–≤–∞', 'married', 1, 13),
	(14, 'M', '1896-08-15', '–ö–∞–ª—É–≥–∞', 'unmarried', 1, 14),
	(15, 'M', '1994-06-02', '–ú–æ—Å–∫–≤–∞', 'unmarried', 1, 15);

SELECT * FROM messages;		
INSERT messages(from_employees_id, to_employees_id, body, created_at) 
VALUES
	(10, 8, '–ü–æ–¥—Å–∫–∞–∂–∏, –∫–∞–∫ –ø–æ–Ω—è—Ç—å —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫—É: –≤—ã—á–∏—Å–ª–∏—Ç—å –ø—Ä–∏–±—ã–ª—å –∫–∞–∂–¥–æ–π –∫–æ–º–ø–∞–Ω–∏–∏, –∞ —Ç–∞–∫–∂–µ —Å—Ä–µ–¥–Ω—é—é –ø—Ä–∏–±—ã–ª—å. –ï—Å–ª–∏ —Ñ–∏—Ä–º–∞ –ø–æ–ª—É—á–∏–ª–∞ —É–±—ã—Ç–∫–∏, –≤ —Ä–∞—Å—á–µ—Ç —Å—Ä–µ–¥–Ω–µ–π –ø—Ä–∏–±—ã–ª–∏ –µ–µ –Ω–µ –≤–∫–ª—é—á–∞—Ç—å. –ù–µ –º–æ–≥—É –ø–æ–Ω—è—Ç—å –æ—Ç —á–µ–≥–æ —Å—á–∏—Ç–∞—Ç—å —Å—Ä–µ–¥–Ω—é—é –ø—Ä–∏–±—ã–ª—å –¥–ª—è —Ñ–∏—Ä–º—ã', '2020-11-15 12:29:32'),	
	(8, 10, '–ù—É–∂–Ω–æ —Å–ª–æ–∂–∏—Ç—å –ø—Ä–∏–±—ã–ª–∏ –≤—Å–µ—Ö –∫–æ–º–ø–∞–Ω–∏–π –∏ –ø–æ–¥–µ–ª–∏—Ç—å –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–ø–∞–Ω–∏–π (—É –∫–æ—Ç–æ—Ä—ã—Ö –µ—Å—Ç—å –ø—Ä–∏–±—ã–ª—å, —Å–∞–º–æ —Å–æ–±–æ–π)', '2020-11-15 12:54:55'),	
	(8, 10, '–í —Å—É–º–º–µ –ø—Ä–∏–±—ã–ª–µ–π –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –∫–æ–º–ø–∞–Ω–∏–π –∫–æ–º–ø–∞–Ω–∏–∏ —Å —É–±—ã—Ç–∫–∞–º–∏ –Ω–µ —É—á–∏—Ç—ã–≤–∞—Ç—å.', '2020-11-15 12:55:12'),
	(8, 10, '–≠—Ç–æ –Ω–µ —Å—Ä–µ–¥–Ω—è—è –ø—Ä–∏–±—ã–ª—å –¥–ª—è —Ñ–∏—Ä–º—ã, –∞ —Å—Ä–µ–¥–Ω—è—è –ø—Ä–∏–±—ã–ª—å –ø–æ —Ñ–∏—Ä–º–∞–º –≤–æ–æ–±—â–µ. –ò–∑ —Ñ–æ—Ä–º–∞—Ç–∞ –∏—Ç–æ–≥–æ–≤–æ–≥–æ —Å–ø–∏—Å–∫–∞ —Å–ª–æ–≤–∞—Ä–µ–π —ç—Ç–æ –≤–∏–¥–Ω–æ.', '2020-11-15 12:57:21'),
	(10, 8, '–ü–æ–Ω—è–ª, —Å–ø–∞—Å–∏–±–æ üòä', '2020-11-15 12:57:21'),
	(10, 8, '–ê —Ç–æ —è –ø–æ –∫–∞–∂–¥–æ–π –ø—ã—Ç–∞–ª—Å—è', '2020-11-15 12:57:45'),
	(9, 5, '–î–æ–±—Ä—ã–π –¥–µ–Ω—å! –ü–æ–¥—Å–∫–∞–∂–∏—Ç–µ, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞ - –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ, —á—Ç–æ–±—ã —Å–≤–µ—Ç–æ—Ñ–æ—Ä –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∞–ª—Å—è –ø–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞ –º–µ—Ç–æ–¥–∞, –ª–∏–±–æ –¥–æ –∫–∞–∫–æ–≥–æ-—Ç–æ –ø—Ä–µ–¥–µ–ª–∞ (–∏–ª–∏ –ø—Ä–æ—à–µ–ª –æ–¥–∏–Ω —Ü–∏–∫–ª –∫—Ä–∞—Å–Ω—ã–π-–∂–µ–ª—Ç—ã–π-–∑–µ–ª–µ–Ω—ã–π). –ù–µ —Å–æ–≤—Å–µ–º –ø–æ–Ω—è–ª –∏–∑ —É—Å–ª–æ–≤–∏—è.', '2020-11-18 16:00:15'),
	(5, 9, '–í—ã—Ö–æ–¥ –∏–∑ —Ü–∏–∫–ª–∞ —Å–∫–æ—Ä–µ–µ –Ω–∞–∂–∞—Ç–∏–µ –ª—é–±–æ–π –∫–ª–∞–≤–∏—à–∏, –∫–∞–∫ —Ç–∞–º –∑–∞–ø–∏–ª–∏—Ç—å –æ—à–∏–±–∫—É, —è —Å–∞–º –Ω–µ –ø–æ–Ω—è–ª. –ê –ø–æ—á–µ–º—É –∫–ª–∞–≤–∏—à–∞, –ø–æ—Ç–æ–º—É, —á—Ç–æ —Ü–∏–∫–ª –ø–æ–ª—É—á–∏—Ç—Å—è –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π. –ö–∞–∫-—Ç–æ —Ç–∞–∫)). –ù–∞–¥–µ—é—Å—å –ø–æ–º–æ–≥.', '2020-11-18 16:17:55'),
	(9, 5, '–î–∞, —Å–ø–∞—Å–∏–±–æ', '2020-11-18 16:28:00'),
	(11, 5, '2.5 —á–∞—Å–∞ —É—à–ª–æ –Ω–∞ 1 –∑–∞–¥–∞–Ω–∏–µ üòÖüòÖ —ç—Ç–æ –Ω–µ –Ω–æ—Ä–º –ø–æ—Ö–æ–¥—É', '2020-11-19 16:44:00'),
	(5, 11, '–ü–æ—á–µ–º—É –∂–µ, –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –Ω–∞–¥ –Ω–µ–∫–æ—Ç–æ—Ä—ã–º–∏ –∑–∞–¥–∞–Ω–∏—è–º–∏ —è –¥–æ–ª—å—à–µ —Å–∏–¥–µ–ª.))))', '2020-11-19 17:02:00'),
	(7, 6, '–ü—Ä–∏–≤–µ—Ç 0/  –ù–µ–æ–±—Ö–æ–¥–∏–º –±–æ–µ–≤–æ–π —Å–æ–≤–µ—Ç) result += "*" * row + "\n" –∫–∞–∫ —Ç—É—Ç –º–æ–∂–Ω–æ –∏–∑–±–∞–≤–∏—Ç—å—Å—è –æ—Ç –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏–∏', '2020-11-23 10:42:00'),
	(6, 7, '–ü—Ä–∏–≤–µ—Ç). –ù—É –∫ –ø—Ä–∏–º–µ—Ä—É –º–æ–∂–Ω–æ —Ç–∞–∫ result += f"{"*" * row}\n"', '2020-11-23 10:51:00'),
	(7, 6, '—è –±—ã–ª –±–ª–∏–∑–æ–∫)) –ø—Ä–æ–±–æ–≤–∞–ª —Ç–∞–∫ f" "*" {* row}\n" –æ–Ω –º–µ–Ω—è –º–∞—Ç–µ—Ä–∏–ª, —Å–ø–∞—Å–∏–±–æ ;)', '2020-11-23 10:55:00'),
	(6, 7, '–í—Å–µ–≥–¥–∞ –ø–æ–∂–∞–ª—É–π—Å—Ç–∞)', '2020-11-23 10:56:00'),
	(14, 12, '–í–∞—â–µ –Ω–µ –≤—Ä—É–±–ª—é—Å—å –ø–æ –∑–¥–∞–Ω–∏—é "–ò—Å–ø–æ–ª—å–∑—É—è –∫–æ–º–∞–Ω–¥—É cat, –ø—Ä–æ—á–∏—Ç–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∫–∞—Ç–∞–ª–æ–≥–∞ etc". –ö–∞–∫ —ç—Ç–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å?', '2020-12-16 15:38:00'),
	(12, 14, '–í –≥–æ–ª–æ–≤—É —Ç–æ–ª—å–∫–æ —Ç–∞–∫–æ–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç cat /etc/* 2>/dev/null', '2020-12-16 15:40:00'),
	(14, 12, '—ç—Ç–æ –æ—à–∏–±–∫–∞, cat –Ω–µ —á–∏—Ç–∞–µ—Ç –∫–∞—Ç–∞–ª–æ–≥–∏, —Ç–æ–ª—å–∫–æ —Ñ–∞–π–ª—ã', '2020-12-16 15:42:00'),
	(12, 14, '–º–Ω–µ –æ—à–∏–±–∫–∞ –∏ –Ω—É–∂–Ω–∞, —Å—É–¥—è –ø–æ –∑–∞–¥–∞–Ω–∏—é, —á—Ç–æ–± –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å –µ—ë –≤ file2.txt', '2020-12-16 15:42:00'),
	(14, 12, '—Ç–æ–≥–¥–∞ –≤–µ—Ä–Ω–æ', '2020-12-16 15:43:00'),
	(12, 14, '–Ω–æ –∫–∞–∫-—Ç–æ —ç—Ç–æ... –Ω–µ –∑–Ω–∞—é —á—Ç–æ. –ù–∞–¥–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É, —á—Ç–æ–± –ø–æ–ª—É—á–∏—Ç—å –æ—à–∏–±–∫—É, —á—Ç–æ–± –∑–∞–ø–∏—Å–∞—Ç—å –æ—à–∏–±–∫—É –≤ —Ñ–∞–π–ª. –ù–µ –≤—Ä—É–±–∞—é—Å—å, –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ —è –ø–æ–Ω—è–ª –∑–∞–¥–∞–Ω–∏–µ', '2020-12-16 15:44:00'),
	(14, 12, '–ù–∞–¥–æ —á–∏—Ç–∞—Ç—å –Ω–µ —Å–∞–º –∫–∞—Ç–∞–ª–æ–≥, –∞ –µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ. –¢.–µ. cat /etc/* –û—à–∏–±–∫–∏ –±—É–¥—É—Ç –≤–æ–∑–Ω–∏–∫–∞—Ç—å –∏–∑-–∑–∞ –ø–æ–¥–∫–∞—Ç–∞–ª–æ–≥–æ–≤, –∏—Ö –∏ –Ω–∞–¥–æ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å', '2020-12-16 15:46:00');
	

/*
--–ø—Ä–æ—Ü–µ–¥—É—Ä–∞ ------------------------------------
SELECT 
	t.task_body, 
	e.lastname, 
	m.url_add, 
	mt.name, 
	t.created_at, 
	t.data_completion,
	CONCAT
		(TIMESTAMPDIFF(HOUR, t.created_at, t.data_completion), ':', 
		(TIMESTAMPDIFF(MINUTE, t.created_at, t.data_completion) - 
		TIMESTAMPDIFF(HOUR, t.created_at, t.data_completion) * 60)) AS execution_time
	FROM tasks t
JOIN employees e ON t.to_employees_id = e.id 
JOIN media m ON t.employee_photo = m.id 
LEFT JOIN media_types mt ON mt.id = m.media_type_id;
-- --------------------------------------------------------
*/


-- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –≤–∞–∫–∞–Ω—Ç–Ω—ã—Ö –¥–æ–ª–∂–Ω–æ—Å—Ç–µ–π
SELECT e.lastname, sl.job_title FROM employees e RIGHT JOIN staff_list sl ON e.staff_id = sl.id WHERE sl.departament_id = 2;
	
	
	
	
	
	
	
	
	
































